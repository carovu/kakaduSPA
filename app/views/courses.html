<!-- header for courselist view, difference: has logout button -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<a href="#/favorites" class="navbar-brand pull-left" title="Links to Your courses">Kakadu</a> 
			<button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="glyphicon glyphicon-align-justify"></span>
			</button>
		</div>

		<nav class="navbar-collapse collapse">
			<ul class="navbar-nav nav pull-right">
				<li><a href="#/courses" title="Links to All courses">All courses</a></li>
				<li><a href="#/favorites" title="Links to Your courses">Your courses</a></li>
				<li><a href="#/" ng-click="logOut()" title="Logs you out">Log Out</a></li>
			</ul>
		</nav>
	</div>
</nav>

<!-- Courseslist view, part of our index.html view -->
<div class="container-fluid">
	<div class="page-header">
		<h1 title="This list shows all existing courses.">All courses</h1> 
	</div>
	<div class="col-md-12">
		<!--Body content-->		
		<!-- search -->
		<form ng-submit="search(searchInput)">
			<input class="form-control" ng-model="searchInput" title="Search for a course from database" placeholder="Search"></input>
		</form>	
		<!-- Sorting -->
		<div class="btn-group btn-group-justified">
			<div class="btn-group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Sort list by">
						sort<span class="caret"></span>
				  	</button>
				  	<ul class="dropdown-menu" role="menu">
					    <li><a href="#/courses" ng-click="sortBy('name')" title="Sort after name">Name</a></li>
					    <li><a href="#/courses" ng-click="sortBy('id')" title="Sort after id">Id</a></li>
					    <li><a href="#/courses" ng-click="sortBy('created_at')" title="Sort after the date created">Created</a></li>
				  	</ul>
			</div>
			<div class="btn-group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Order list by">
						order<span class="caret"></span>
				  	</button>
				  	<ul class="dropdown-menu" role="menu">
					    <li><a href="#/courses" ng-click="orderBy('asc')" title="Sorted in ascending order">Asc</a></li>
					    <li><a href="#/courses" ng-click="orderBy('desc')" title="Sorted in descending order">Desc</a></li>
				  	</ul>
			</div>
			<div class="btn-group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						entries<span class="caret"></span>
				  	</button>
				  	<ul class="dropdown-menu" role="menu">
				  		<li><a href="#/courses" ng-click="changePageSize(20)" title="Changes how many courses you see per page">20</a></li>
					    <li><a href="#/courses" ng-click="changePageSize(40)" title="Changes how many courses you see per page">40</a></li>
					    <li><a href="#/courses" ng-click="changePageSize(60)" title="Changes how many courses you see per page">60</a></li>
					    <li><a href="#/courses" ng-click="changePageSize(80)" title="Changes how many courses you see per page">80</a></li>
					    <li><a href="#/courses" ng-click="changePageSize(100)" title="Changes how many courses you see per page">100</a></li>
				  	</ul>
			</div>
		</div>
		<br>	
		<div class="alert alert-success text-center" role="alert" ng-show="notifSuccess">
			{{notification}}
		</div>
		<div class="alert alert-danger text-center" role="alert" ng-show="notifDanger">
			{{notification}}
		</div>
		
		<!-- pagination -->
		<div class="text-center" ng-hide="numberOfPages() <= 1">
			<ul class="pagination pagination-lg pagination-centered">
				<li><a href="#/courses" ng-click="previousPage()" title="Show previous page">&laquo;</a></li>
				<li ng-repeat="i in getNumberAsArray(numberOfPages()) track by $index" ng-class="{active: ($index+1) == currentPage}"ng-click="setCurrentPage($index)"><a href="#/courses">{{$index + 1}}</a></li>
				<li><a href="#/courses" ng-click="nextPage()" title="Show next page">&raquo;</a></li>
			</ul>	
		</div>	
		<!-- list -->
		<div class="panel panel-default" ng-repeat="(courseIndex, course) in courses.data | limitTo:pageSize">
			<!-- Default panel contents -->
			<div ng-if="course.user_id === userId">
				<div class="panel-heading" title="A course you have already looked at and is in the your courses list." ng-style="{'background-color':'#E5E5E5'}">
					<a href="#/course/{{course.id}}/learning" title="Links you to it's questions and automatically adds the course to Your courses list.">{{course.name}}</a>
					<span class="panel-title pull-right" title="Course menu">	
						<div class="dropdown">
						<a href="#/courses" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-chevron-down"></span></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#/courses" ng-click="showDescription(courseIndex)" ng-hide="isShowing(courseIndex)" title="Show description">Show</a></li>
							<li><a href="#/courses" ng-click="hideDescription(courseIndex)" ng-show="isShowing(courseIndex)" title="Hide description">Hide</a></li>
							<li class="divider"></li>
							<li><a href="#/courses" ng-model="favorites" ng-click="addFavorite(course.id, true)" title="Add this course to the your courses list.">add</a></li>
						</ul>
						</div>
					</span>
				</div>
				<div class="panel-body" ng-show="isShowing(courseIndex)">
					<p>{{course.description}}</p>
				</div>
			</div>
			<div ng-if="course.user_id !== userId">
				<div class="panel-heading" title="A course.">
					<a href="#/course/{{course.id}}/learning" title="Links you to it's questions and automatically adds the course to Your courses list.">{{course.name}}</a>
					<span class="panel-title pull-right" title="Course menu">	
						<div class="dropdown">
						<a href="#/courses" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-chevron-down"></span></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#/courses" ng-click="showDescription(courseIndex)" ng-hide="isShowing(courseIndex)" title="Show description">Show</a></li>
							<li><a href="#/courses" ng-click="hideDescription(courseIndex)" ng-show="isShowing(courseIndex)" title="Hide description">Hide</a></li>
							<li class="divider"></li>
							<li><a href="#/courses" ng-model="favorites" ng-click="addFavorite(course.id, false)" title="Add this course to the your courses list.">add</a></li>
						</ul>
						</div>
					</span>
				</div>
				<div class="panel-body" ng-show="isShowing(courseIndex)">
					<p>{{course.description}}</p>
				</div>
			</div>
		</div>
		<!-- pagination -->
		<div class="text-center" ng-hide="numberOfPages() <= 1">
			<ul class="pagination pagination-lg pagination-centered">
				<li><a href="#/courses" ng-click="previousPage()" title="Show previous page">&laquo;</a></li>
				<li ng-repeat="i in getNumberAsArray(numberOfPages()) track by $index" ng-class="{active: ($index+1) == currentPage}"ng-click="setCurrentPage($index)"><a href="#/courses">{{$index + 1}}</a></li>
				<li><a href="#/courses" ng-click="nextPage()" title="Show next page">&raquo;</a></li>
			</ul>	
		</div>									
	</div>
</div>			